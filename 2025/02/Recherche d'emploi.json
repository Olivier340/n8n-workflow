{"createdAt":"2025-02-05T05:27:19.105Z","updatedAt":"2025-02-12T15:58:35.032Z","id":"wmFxs5SLCkw6d2Ua","name":"Recherche d'emploi","active":false,"nodes":[{"parameters":{"values":{"string":[{"name":"q","value":"technicien methodes"},{"name":"locality","value":"fr"},{"name":"page","value":"1"},{"name":"sort","value":"date"},{"name":"location","value":"cluses"}]},"options":{}},"name":"Set Search Parameters","type":"n8n-nodes-base.set","typeVersion":1,"position":[-1480,-160],"id":"97c3138a-1dc0-4f88-805a-60798da98a3f"},{"parameters":{"url":"https://customsearch.googleapis.com/customsearch/v1","options":{"useQueryString":false},"queryParametersUi":{"parameter":[{"name":"key","value":"AIzaSyCinZYl58rnUTPpNX_xzqdAGnc6uPak-FE"},{"name":"cx","value":"f5db20188c61d409d"},{"name":"q","value":"={{ $json.q }} {{ $json.location }}"}]}},"name":"Google Search","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[-1020,-340],"id":"d51d6dff-2918-429f-895c-9b2ef6385b95"},{"parameters":{"authentication":"headerAuth","url":"https://active-jobs-db.p.rapidapi.com/active-ats-7d","options":{},"headerParametersUi":{"parameter":[{"name":"X-Rapidapi-Host","value":"active-jobs-db.p.rapidapi.com"}]},"queryParametersUi":{"parameter":[{"name":"title_filter","value":"={{ $json.q }}"},{"name":"location_filter","value":"={{ $json.locality }}"}]}},"name":"Active Jobs API","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[-1020,-60],"id":"e71e06aa-9d8d-4327-aeeb-987cc756b3c7","credentials":{"httpHeaderAuth":{"id":"sgOE2BzhDy5BIQZo","name":"Header Auth Rapid API"}}},{"parameters":{"authentication":"headerAuth","url":"https://jobs-api14.p.rapidapi.com/v2/list","options":{},"headerParametersUi":{"parameter":[{"name":"x-rapidapi-host","value":"jobs-api14.p.rapidapi.com"}]},"queryParametersUi":{"parameter":[{"name":"query","value":"={{ $json.q }}"},{"name":"location","value":"={{ $json.location }}"}]}},"name":"Jobs API","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[-1020,180],"id":"4f4127cd-ba23-44d2-a2e8-82dad3e1e888","credentials":{"httpHeaderAuth":{"id":"sgOE2BzhDy5BIQZo","name":"Header Auth Rapid API"}}},{"parameters":{"authentication":"headerAuth","url":"https://jsearch.p.rapidapi.com/search","options":{},"headerParametersUi":{"parameter":[{"name":"x-rapidapi-host","value":"jsearch.p.rapidapi.com"}]},"queryParametersUi":{"parameter":[{"name":"country","value":"=fr"},{"name":"query","value":"={{ $json.q }} in  {{ $json.location }}"}]}},"name":"JSearch API","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[-1020,420],"id":"f50b822a-d468-4336-bac9-8254f8fd8b43","credentials":{"httpHeaderAuth":{"id":"sgOE2BzhDy5BIQZo","name":"Header Auth Rapid API"}}},{"parameters":{"functionCode":"items = items.reduce((acc, curr) => {\n    // D√©duplication simple par comparaison de l'URL\n    if (!acc.find(item => item.json.url === curr.json.url)) {\n        acc.push(curr);\n    }\n    return acc;\n}, []);\nreturn items;"},"name":"Filter & Deduplicate","type":"n8n-nodes-base.function","typeVersion":1,"position":[1600,-320],"id":"0c56dd82-1ef7-4698-9f0d-33c9dbaa1c51"},{"parameters":{"url":"http://localhost:11434/deep-analysis","jsonParameters":true,"options":{}},"name":"Deep Analysis","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[1840,-320],"id":"83e64550-d55d-4aec-b53f-6699575fe1e7"},{"parameters":{"url":"http://localhost:11434/generate-motivation-letter","jsonParameters":true,"options":{}},"name":"Generate Motivation Letter","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[2120,-500],"id":"a1b82485-6639-45a9-aad4-65fb9863a7f1"},{"parameters":{"url":"http://localhost:11434/modify-cv","jsonParameters":true,"options":{}},"name":"Modify CV","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[2120,-140],"id":"d467442c-47f0-49d1-8771-482b1e84b158"},{"parameters":{"url":"http://nomic-embed-text/generate","jsonParameters":true,"options":{}},"name":"Generate Embeddings","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[2320,-320],"id":"8a0fe28e-cb36-4b27-8735-7ecaba07b178"},{"parameters":{"url":"http://localhost:6333/collections/emploi/points","jsonParameters":true,"options":{}},"name":"Index in Qdrant","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[2580,-320],"id":"d645301c-79e2-4be5-8355-48a5b0162c0b"},{"parameters":{"functionCode":"items = items.map(item => {\n    // Formatage final de chaque offre\n    return {\n        json: {\n            title: item.json.title || \"\",\n            company: item.json.company || \"\",\n            location: item.json.location || \"\",\n            description: item.json.description || \"\",\n            url: item.json.url || \"\",\n            analysis: item.json.analysis || {}\n        }\n    };\n});\nreturn items;"},"name":"Format Final Output","type":"n8n-nodes-base.function","typeVersion":1,"position":[2800,-320],"id":"5fc3687c-836a-4b5e-86fb-9f7c9c766a9a"},{"parameters":{"functionCode":"console.log('Debug Info:', items);\nreturn items;"},"name":"Debug Logger","type":"n8n-nodes-base.function","typeVersion":1,"position":[3040,-500],"id":"5c5e23e0-c51d-4b76-8ccc-9496db119c23"},{"parameters":{"values":{"string":[{"name":"finalOutput","value":"={{$json}}"}]},"options":{}},"name":"Output Final","type":"n8n-nodes-base.set","typeVersion":1,"position":[3300,-320],"id":"412e624a-7223-421f-b625-7e826c481db9"},{"parameters":{},"name":"Start1","type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-1740,-160],"id":"69b4aee6-94fd-4d9c-9081-2ed5b9bc3cf5"},{"parameters":{"jsCode":"// Ce code doit √™tre coll√© dans un n≈ìud \"Code\" (Function Node) de n8n.\nasync function main() {\n  // D√©finition de l'URL avec les param√®tres de recherche.\n  const apiKey = \"AIzaSyCinZYl58rnUTPpNX_xzqdAGnc6uPak-FE\"; // Remplacer par ta cl√© API\n  const cx = \"f5db20188c61d409d\";\n  const query = \"cars\"; // Modifier la requ√™te si besoin\n const url = `https://www.googleapis.com/customsearch/v1?key=${apiKey}&cx=${cx}&q=${encodeURIComponent(query)}`;\n\n  // Options de la requ√™te HTTP\n  // Options de la requ√™te HTTP\n  const options = {\n    method: 'GET',\n    uri: url,\n    json: true,\n    simple: false // Permet de g√©rer manuellement les codes de statut HTTP\n  };\n\n  // Effectuer la requ√™te HTTP avec this.helpers.request\n  const response = await this.helpers.request(options);\n\n  // V√©rification du code de statut HTTP\n  if (response.statusCode && response.statusCode >= 400) {\n    // G√©rer l'erreur en fonction du code de statut et du message\n    throw new Error(`Request failed with status code ${response.statusCode}: ${response.body}`);\n  }\nconsole.log(response)\n  // V√©rification de la pr√©sence de la propri√©t√© 'items' et que c'est un tableau\n  if (!response.items || !Array.isArray(response.items)) {\n    throw new Error('La r√©ponse de l\\'API ne contient pas de propri√©t√© \"items\" valide.');\n  }\n\n  // Traitement de la r√©ponse : extraction de l'attribut htmlTitle de chaque r√©sultat\n  const output = response.items.map(item => {\n    return { json: { htmlTitle: item } };\n  });\n\n  return output;\n}\n\nreturn await main();"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1360,-740],"id":"461127aa-2f5b-40f7-b0ce-842ea4aed0f9","name":"Code1"},{"parameters":{"url":"=https://indeed12.p.rapidapi.com/job/{{ $json.hits.id }}","options":{"batchInterval":5000,"splitIntoItems":false},"headerParametersUi":{"parameter":[{"name":"X-RapidAPI-Key","value":"20db81a5d3msh4fa2a97afeac76ep1ec0a0jsn8c0ce792a095"},{"name":"X-RapidAPI-Host","value":"indeed12.p.rapidapi.com"}]},"queryParametersUi":{"parameter":[{"name":"locality","value":"={{ $json.hits.locality }}"}]}},"name":"HTTP Request - Indeed API","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[1380,-940],"id":"50446bdd-a97e-482c-8655-5fb5a58c4ae4"},{"parameters":{"fieldToSplitOut":"hits","include":"allOtherFields","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[1160,-940],"id":"36163faa-dcad-4e41-9ca0-e1325aada557","name":"Split Out","alwaysOutputData":true},{"parameters":{"options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[1640,-940],"id":"2cdba9d8-e0dd-4a23-ad6b-3143f90f9b1f","name":"Convert to File"},{"parameters":{"resource":"databasePage","databaseId":{"__rl":true,"value":"cd874998-c309-48d0-984c-db009335a4e4","mode":"list","cachedResultName":"Offres d‚Äôemploi","cachedResultUrl":"https://www.notion.so/cd874998c30948d0984cdb009335a4e4"},"title":"={{ $('run Actor Indeed').item.json.company }}","simple":false,"propertiesUi":{"propertyValues":[{"key":"Lieu|rich_text","textContent":"={{ $('run Actor Indeed').item.json.location }}"},{"key":"Type contrat|multi_select","multiSelectValue":"={{ $('run Actor Indeed').item.json.jobType }}"},{"key":"Date de l'offre|date","includeTime":"=","date":"={{ $('run Actor Indeed').item.json.postingDateParsed }}","timezone":"Europe/Paris"},{"key":"Poste|rich_text","textContent":"={{ $('run Actor Indeed').item.json.positionName }}"},{"key":"R√©f√©rence|rich_text","textContent":"={{ $('run Actor Indeed').item.json.id }}"},{"key":"Url de l'offre|url","urlValue":"={{ $('run Actor Indeed').item.json.url }}"},{"key":"D√©tail de l'offre|rich_text","textContent":"={{ ( $json.text|| \"\").substring(0,2000) }}"}]},"blockUi":{"blockValues":[{"type":"heading_1","textContent":"={{ $('run Actor Indeed').item.json.company }} {{ $('run Actor Indeed').item.json.location}}"},{"type":"heading_2","textContent":"={{ $('run Actor Indeed').item.json.positionName }} {{ $('run Actor Indeed').item.json.postedAt}} {{ $('run Actor Indeed').item.json.salary}} {{ $('run Actor Indeed').item.json.jobType }}"},{"textContent":"={{ ( $json.text|| \"\").substring(0,2000) }}"}]},"options":{}},"type":"n8n-nodes-base.notion","typeVersion":2.2,"position":[-140,-600],"id":"5fe67b58-9f4b-47e4-aede-f261b638766d","name":"Notion1","credentials":{"notionApi":{"id":"ZIBjC8b9OWhjO7wH","name":"Notion account"}}},{"parameters":{"html":"={{ $json.url }}\n{{ $json.id }} {{ $json.scrapedAt }}\n{{ $json.positionName }} {{ $json.salary }} {{ $json.postedAt }} {{ $json.jobType }}\n{{ $json.company }} {{ $json.location }}\n\n{{ $json.descriptionHTML }}","options":{"bulletMarker":"*","codeFence":"```","emDelimiter":"_","strongDelimiter":"**","codeBlockStyle":"fence"}},"type":"n8n-nodes-base.markdown","typeVersion":1,"position":[1660,-1120],"id":"9067a828-75aa-4cdd-a9c8-e91c5d56a76a","name":"Markdown","alwaysOutputData":false},{"parameters":{"url":"=https://indeed12.p.rapidapi.com/job/{{ $json.hits.id }}","options":{"batchInterval":5000,"splitIntoItems":false},"headerParametersUi":{"parameter":[{"name":"X-RapidAPI-Key","value":"20db81a5d3msh4fa2a97afeac76ep1ec0a0jsn8c0ce792a095"},{"name":"X-RapidAPI-Host","value":"indeed12.p.rapidapi.com"}]},"queryParametersUi":{"parameter":[{"name":"locality","value":"={{ $json.hits.locality }}"}]}},"name":"HTTP Request - Indeed API2","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[1780,-760],"id":"e00269e8-5059-458b-bdae-ff9a0db338a1"},{"parameters":{"url":"https://fr.indeed.com/jobs","sendQuery":true,"queryParameters":{"parameters":[{"name":"q","value":"developpeur"},{"name":"location","value":"Annecy"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1980,-1320],"id":"1e59bfa6-967f-4405-89ba-05db2292d099","name":"HTTP Request"},{"parameters":{"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1540,-760],"id":"50517265-0d40-4ef9-bbbb-2087bea49b5f","name":"HTTP Request1"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app6Xd7y7jFPbLe5c","mode":"list","cachedResultName":"YouTube Scraping DB","cachedResultUrl":"https://airtable.com/app6Xd7y7jFPbLe5c"},"table":{"__rl":true,"value":"tblEJyl1lp3vlFRFo","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app6Xd7y7jFPbLe5c/tblEJyl1lp3vlFRFo"},"filterByFormula":"AND(NOT({video_url} = \"\"), {status} = \"Ready to scrape\")","options":{}},"id":"3689aeac-c02b-4cb7-9f92-1650492a7b85","name":"get Video URL","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1160,-1280]},{"parameters":{"url":"=https://api.apify.com/v2/actor-runs/{{ $json.data.id }}","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"waitForFinish","value":"60"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"options":{}},"id":"9ca766f7-1e03-4c2f-a54c-1dcaccafeeee","name":"get Actor run","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1360,-1280],"credentials":{"httpHeaderAuth":{"id":"but6yVhPbQehPuro","name":"Header Auth Apify"}}},{"parameters":{"url":"=https://api.apify.com/v2/datasets/{{ $json.data.defaultDatasetId }}/items","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","options":{}},"id":"4e75676e-b3fa-4850-92b1-bcf99895ba4f","name":"get Dataset","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1540,-1280],"credentials":{"httpHeaderAuth":{"id":"sgOE2BzhDy5BIQZo","name":"Header Auth Rapid API"}}},{"parameters":{"operation":"update","base":{"__rl":true,"value":"app6Xd7y7jFPbLe5c","mode":"list","cachedResultName":"YouTube Scraping DB","cachedResultUrl":"https://airtable.com/app6Xd7y7jFPbLe5c"},"table":{"__rl":true,"value":"tblEJyl1lp3vlFRFo","mode":"list","cachedResultName":"Scraped_data","cachedResultUrl":"https://airtable.com/app6Xd7y7jFPbLe5c/tblEJyl1lp3vlFRFo"},"columns":{"mappingMode":"defineBelow","value":{"thumbnail":"={{ [{\"url\": $('get Dataset').item.json.thumbnailUrl}] }}","id":"={{ $('get Video URL').item.json.id }}","status":"Scraped","channel_name":"={{ $('get Dataset').item.json.channelName }}","video_name":"={{ $('get Dataset').item.json.title }}","number_of_subscribers":"={{ $('get Dataset').item.json.numberOfSubscribers }}","likes":"={{ $('get Dataset').item.json.likes }}","views":"={{ $('get Dataset').item.json.viewCount }}","subtitles":"={{ $('get Dataset').item.json.subtitles[0].plaintext }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"video_url","displayName":"video_url","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"status","displayName":"status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"options","options":[{"name":"Ready to scrape","value":"Ready to scrape"},{"name":"Scraped","value":"Scraped"}],"readOnly":false,"removed":false},{"id":"channel_name","displayName":"channel_name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"video_name","displayName":"video_name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"thumbnail","displayName":"thumbnail","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"array","readOnly":false,"removed":false},{"id":"number_of_subscribers","displayName":"number_of_subscribers","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"likes","displayName":"likes","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"views","displayName":"views","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"subtitles","displayName":"subtitles","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}]},"options":{}},"id":"958dd76f-0065-4db9-8cc6-592fd3bdff2b","name":"update scraped data","type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1720,-1280]},{"parameters":{"html":"<!DOCTYPE html>\n\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>My HTML document</title>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>{{ $json.company }}</h1>\n    <h2>{{ $json.location }} {{ $json.postedAt }} {{ $json.salary }}</h2>\n    <h3>{{ $json.positionName }} </h3>\n    {{ $json.descriptionHTML }}\n  </div>\n</body>\n</html>\n\n<style>\n.container {\n  background-color: #ffffff;\n  text-align: left;\n  padding: 16px;\n  border-radius: 8px;\n}\n\nh1 {\n  color: #ff6d5a;\n  font-size: 24px;\n  font-weight: bold;\n  padding: 8px;\n}\n\nh2 {\n  color: #909399;\n  font-size: 18px;\n  font-weight: bold;\n  padding: 8px;\n}\n</style>\n\n<script>\nconsole.log(\"Hello World!\");\n</script>"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[1960,-1120],"id":"3c2af342-4f9a-4915-9c59-36af9beecea9","name":"Annonces Html","alwaysOutputData":true},{"parameters":{"promptType":"define","text":"=Analyse Approfondie des Offres :\nObjectif : D√©livrer une analyse d√©taill√©e des comp√©tences et de la culture d‚Äôentreprise en fonction de l'offre d'emploi :\n {{ $json.company }} {{ $json.postedAt }} {{ $json.salary }} {{ $json.location }}\n{{ $json.positionName }} {{ $json.jobType }}\n{{ $json.url }}\n{{ $json.descriptionHTML }}\n\nD√©tails :\nComp√©tences : Identifier les comp√©tences mentionn√©es et d√©tecter celles pertinentes pour le profil de l‚Äôutilisateur.\nCulture d‚Äôentreprise : Analyser la culture √† partir des informations disponibles.\nCorrespondance Profil-Poste : √âvaluer la correspondance des comp√©tences de l‚Äôutilisateur avec celles requises.\n5. Pr√©sentation Structur√©e des R√©sultats :\nObjectif : Pr√©senter les offres de mani√®re claire et d√©taill√©e.\nLangue : R√©pondre dans la langue de l‚Äôutilisateur.\nFormat : r√©pondre au format json\n","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[400,-700],"id":"9fa43a53-bd36-48fe-a867-0f1948ee8262","name":"AI Agent"},{"parameters":{"model":"mistral:latest","options":{"temperature":0.2}},"type":"@n8n/n8n-nodes-langchain.lmChatOllama","typeVersion":1,"position":[340,-420],"id":"f59f8942-634d-43e2-8411-e06fc0deaf49","name":"Ollama Chat Model","credentials":{"ollamaApi":{"id":"NS8KtD03um6xedJo","name":"Ollama account"}}},{"parameters":{"resource":"databasePage","databaseId":{"__rl":true,"value":"cd874998-c309-48d0-984c-db009335a4e4","mode":"list","cachedResultName":"Offres d‚Äôemploi","cachedResultUrl":"https://www.notion.so/cd874998c30948d0984cdb009335a4e4"},"options":{}},"type":"n8n-nodes-base.notionTool","typeVersion":2.2,"position":[660,-460],"id":"46bd249e-1cbc-42c6-b51d-9b5dc6365640","name":"Notion","credentials":{"notionApi":{"id":"ZIBjC8b9OWhjO7wH","name":"Notion account"}}},{"parameters":{"method":"POST","url":"https://api.apify.com/v2/acts/misceres~indeed-scraper/run-sync-get-dataset-items?token=apify_api_s7Kq2WTJPCNPRNhefglhou1Dnll3q602yFKG","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n    \"country\": \"{{ $json.locality.toUpperCase() }}\",\n    \"followApplyRedirects\": false,\n    \"location\": \"{{ $json.location }}\",\n    \"maxItems\": 20,\n    \"parseCompanyDetails\": false,\n    \"position\": \"{{ $json.q }}\",\n    \"saveOnlyUniqueItems\": true\n}","options":{}},"id":"1466f46c-0fac-445c-8e2a-a0d393f0695a","name":"run Actor Indeed","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-1380,-600],"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"but6yVhPbQehPuro","name":"Header Auth Apify"}}},{"parameters":{"promptType":"define","text":"=r√©√©crire cette description d'offre d'emploi en la structurant avec un maximum 1950 caract√®res , garde les informations importantes , telle que les valeurs d'entreprise , le contenu de la mission , les comp√©tences demand√©es. Tu √©criras toujours en fran√ßais; l'output doit absolument √™tre inferieur √† 1950 caract√®res. r√©ponds toujours en fran√ßais. Tu utiliseras du text rich et des √©motic√¥nes pour rendre le tout attrayant.\nvoici la description √† r√©ecrire: {{ $json.description }}"},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.5,"position":[-560,-600],"id":"ee1988fb-012b-4693-a41b-715b7599737e","name":"Basic LLM Chain"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[-600,-380],"id":"e6cd576f-dd07-426a-b119-914568b3314d","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"d4zSwzevlcDFPS3v","name":"OpenAi account"}}},{"parameters":{"resource":"databasePage","operation":"getAll","databaseId":{"__rl":true,"value":"cd874998-c309-48d0-984c-db009335a4e4","mode":"list","cachedResultName":"Offres d‚Äôemploi","cachedResultUrl":"https://www.notion.so/cd874998c30948d0984cdb009335a4e4"},"returnAll":true,"options":{}},"type":"n8n-nodes-base.notion","typeVersion":2.2,"position":[-1220,-860],"id":"d625b014-b010-4a69-94f2-8c46fbb00b11","name":"Notion2","executeOnce":true,"credentials":{"notionApi":{"id":"ZIBjC8b9OWhjO7wH","name":"Notion account"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"af937c29-adb6-416a-8276-fc97fbe363d4","leftValue":"={{ $json.property_r_f_rence }}","rightValue":"","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1980,-920],"id":"4bd75165-b7b1-481b-94b2-cfc089c45d0e","name":"If"},{"parameters":{"jsCode":"// R√©cup√©rer les donn√©es du Merge\nconst mergedData = $input.all();\n\nconsole.log(\"üìå Donn√©es apr√®s Merge :\", JSON.stringify(mergedData, null, 2));\n\n// Filtrer les entr√©es pour s√©parer Notion et Indeed\nconst notionData = mergedData.filter(item => item.json.property_r_f_rence);\nconst indeedData = mergedData.filter(item => item.json.id);\n\nconsole.log(\"üìå Offres existantes dans Notion :\", JSON.stringify(notionData, null, 2));\nconsole.log(\"üìå Offres trouv√©es via Indeed :\", JSON.stringify(indeedData, null, 2));\n\n// V√©rifier que chaque √©l√©ment a bien une r√©f√©rence\nconst notionReferences = new Set(\n    notionData\n        .filter(item => item.json.property_r_f_rence && item.json.property_r_f_rence.trim() !== \"\")\n        .map(item => item.json.property_r_f_rence.trim()) // Nettoyage des espaces\n);\n\nconsole.log(\"üõ† Liste des r√©f√©rences Notion :\", Array.from(notionReferences));\n\n// V√©rifier chaque offre Indeed et l'exclure si son ID est d√©j√† dans Notion\nconst newJobs = indeedData.filter(job => {\n    const jobId = job.json.id ? job.json.id.trim() : null;\n    if (!jobId) {\n        console.log(\"‚ö†Ô∏è Job sans ID trouv√© :\", job.json);\n        return false; // Si l'ID est vide, on ignore\n    }\n    if (notionReferences.has(jobId)) {\n        console.log(`‚ùå Offre existante ignor√©e : ${jobId}`);\n        return false; // L'offre existe d√©j√†\n    }\n    console.log(`‚úÖ Nouvelle offre trouv√©e : ${jobId}`);\n    return true;\n});\n\nconsole.log(\"üöÄ Nouvelles offres √† ajouter dans Notion :\", JSON.stringify(newJobs, null, 2));\n\n// Retourner uniquement les nouvelles offres sous le format JSON attendu par n8n\nreturn newJobs.map(job => ({ json: job.json }));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1400,-1120],"id":"1d3d92a0-1d8e-4815-8b68-42d46499df5f","name":"Code2"},{"parameters":{"mode":"combine","advanced":true,"mergeByFields":{"values":[{"field1":"property_r_f_rence","field2":"id"}]},"joinMode":"keepNonMatches","outputDataFrom":"input2","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[-960,-720],"id":"c7c16877-101b-4a8e-9896-a6c960f4eb70","name":"Merge"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"databaseId":{"__rl":true,"value":"cd874998-c309-48d0-984c-db009335a4e4","mode":"list","cachedResultName":"Offres d‚Äôemploi","cachedResultUrl":"https://www.notion.so/cd874998c30948d0984cdb009335a4e4"}},"type":"n8n-nodes-base.notionTrigger","typeVersion":1,"position":[-1660,-860],"id":"378c3099-4ff8-47ae-8c0f-842a8b380dd7","name":"Notion Trigger","credentials":{"notionApi":{"id":"ZIBjC8b9OWhjO7wH","name":"Notion account"}}},{"parameters":{},"id":"3e5d2e28-00cc-4458-ba72-337ad7273813","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.1,"position":[600,420],"credentials":{"postgres":{"id":"gPu37zS904wrxDaM","name":"Postgres account"}}},{"parameters":{"model":"llama3.1:latest","options":{}},"id":"db3085e9-e698-4e77-be97-e167898c3f4a","name":"Ollama Model","type":"@n8n/n8n-nodes-langchain.lmOllama","typeVersion":1,"position":[1480,360],"credentials":{"ollamaApi":{"id":"NS8KtD03um6xedJo","name":"Ollama account"}}},{"parameters":{"name":"SearchJob","topK":3},"id":"87703cf0-a605-4a2d-82ba-baaf3e27b830","name":"Vector Store Tool","type":"@n8n/n8n-nodes-langchain.toolVectorStore","typeVersion":1,"position":[1260,200]},{"parameters":{"model":"nomic-embed-text:latest"},"id":"8cc71d24-60e3-4a27-a42f-befd9cdeadae","name":"Embeddings Ollama","type":"@n8n/n8n-nodes-langchain.embeddingsOllama","typeVersion":1,"position":[1120,500],"credentials":{"ollamaApi":{"id":"NS8KtD03um6xedJo","name":"Ollama account"}}},{"parameters":{"triggerOn":"specificFolder","folderToWatch":{"__rl":true,"value":"14_J1f0oA1suFfSv1Ae6SfqpikSzPm3XY","mode":"list","cachedResultName":"SearchJobs","cachedResultUrl":"https://drive.google.com/drive/folders/14_J1f0oA1suFfSv1Ae6SfqpikSzPm3XY"},"event":"fileCreated","options":{}},"id":"0fc64ba0-e656-43ca-9f84-3d4e78c21a51","name":"File Created","type":"n8n-nodes-base.googleDriveTrigger","typeVersion":1,"position":[120,740],"credentials":{"googleDriveOAuth2Api":{"id":"Mu7yxTxQSL3Ke6rX","name":"Google Drive account"}}},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"triggerOn":"specificFolder","folderToWatch":{"__rl":true,"value":"14_J1f0oA1suFfSv1Ae6SfqpikSzPm3XY","mode":"list","cachedResultName":"SearchJobs","cachedResultUrl":"https://drive.google.com/drive/folders/14_J1f0oA1suFfSv1Ae6SfqpikSzPm3XY"},"event":"fileUpdated","options":{"fileType":"all"}},"id":"c99c251c-98f5-4da9-92e9-b23c37abdd67","name":"File Updated","type":"n8n-nodes-base.googleDriveTrigger","typeVersion":1,"position":[120,960],"credentials":{"googleDriveOAuth2Api":{"id":"Mu7yxTxQSL3Ke6rX","name":"Google Drive account"}}},{"parameters":{"assignments":{"assignments":[{"id":"10646eae-ae46-4327-a4dc-9987c2d76173","name":"file_id","value":"={{ $json.id }}","type":"string"},{"id":"dd0aa081-79e7-4714-8a67-1e898285554c","name":"folder_id","value":"={{ $json.parents[0] }}","type":"string"}]},"options":{}},"id":"1edf55bc-36ae-40e3-bd47-88c0b1dc9aed","name":"Set File ID","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[380,740]},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $('Set File ID').item.json.file_id }}","mode":"id"},"options":{"googleFileConversion":{"conversion":{"docsToFormat":"text/plain"}}}},"id":"41303c24-b00c-4c88-9c82-18c2d8402092","name":"Download File","type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[820,740],"executeOnce":true,"credentials":{"googleDriveOAuth2Api":{"id":"Mu7yxTxQSL3Ke6rX","name":"Google Drive account"}}},{"parameters":{"operation":"pdf","options":{}},"id":"a54df99d-100e-4437-8aca-d45e9b2284fd","name":"Extract Document Text","type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[1060,740],"alwaysOutputData":true},{"parameters":{"options":{"metadata":{"metadataValues":[{"name":"file_id","value":"={{ $('Set File ID').item.json.file_id }}"},{"name":"folder_id","value":"={{ $('Set File ID').item.json.folder_id }}"}]}}},"id":"c3b59f6d-114a-477d-987d-87508b53b11b","name":"Default Data Loader","type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[1380,960]},{"parameters":{"chunkOverlap":100,"options":{}},"id":"042b304e-1e1d-4f20-903e-bd8ac124c6c4","name":"Recursive Character Text Splitter","type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[1380,1180]},{"parameters":{"model":"nomic-embed-text:latest"},"id":"16912e07-469b-4e9e-a1db-f2e0544d6a53","name":"Embeddings Ollama1","type":"@n8n/n8n-nodes-langchain.embeddingsOllama","typeVersion":1,"position":[1220,960],"credentials":{"ollamaApi":{"id":"NS8KtD03um6xedJo","name":"Ollama account"}}},{"parameters":{"content":"## Local RAG AI Agent with Chat Interface","height":527.3027193303974,"width":969.0343804425795},"id":"c73894b7-3925-4206-a763-f93400931caf","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[80,80]},{"parameters":{"content":"## Agent Tools for Local RAG","height":528.85546469693,"width":583.4552380860637,"color":4},"id":"f7e54fb9-f4c7-4c8f-9380-d0fa12f52666","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1060,80]},{"parameters":{"content":"## Workflow to Create Local Knowledgebase from Google Drive Folder","height":705.2695614889159,"width":1568.9362829025763,"color":5},"id":"870d61d3-8733-44a6-bb50-a47226473c38","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[80,620]},{"parameters":{"options":{}},"id":"8fb8824e-4cf8-44c0-87bd-75a406d1040d","name":"When chat message received","type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[140,200],"webhookId":"cb31b294-29c2-416c-8a2c-4aee3bf352c0"},{"parameters":{"qdrantCollection":{"__rl":true,"value":"SearchJob","mode":"list","cachedResultName":"SearchJob"},"options":{}},"id":"e46ccaa7-2880-4bed-81f0-8f803dc07c7e","name":"Qdrant Vector Store","type":"@n8n/n8n-nodes-langchain.vectorStoreQdrant","typeVersion":1,"position":[1080,340],"credentials":{"qdrantApi":{"id":"Aeqltub5twyeo8GY","name":"QdrantApi account"}}},{"parameters":{"code":{"execute":{"code":"const { QdrantVectorStore } = require(\"@langchain/qdrant\");\nconst { OllamaEmbeddings } = require(\"@langchain/community/embeddings/ollama\");\n\nconst embeddings = new OllamaEmbeddings({\n  model: \"nomic-embed-text\",\n  baseUrl: \"http://ollama:11434\"\n});\n\nconst vectorStore = await QdrantVectorStore.fromExistingCollection(\n  embeddings,\n  {\n    url: \"http://qdrant:6333\",\n    collectionName: \"documents\",\n  }\n);\n\nconst fileIdToDelete = this.getInputData()[0].json.file_id;\n\nconst filter = {\n        must: [\n            {\n                key: \"metadata.file_id\",\n                match: {\n                    value: fileIdToDelete,\n                },\n            },\n        ],\n    }\n\n// const results = await vectorStore.similaritySearch(\"this\", 10, filter);\n// const idsToDelete = results.map((doc) => doc.id);\n\n// NOT IMPLEMENTED!\n// await vectorStore.delete({ ids: idsToDelete });\n\nvectorStore.client.delete(\"documents\", {\n  filter\n});\n\nreturn [ {json: { file_id: fileIdToDelete } } ];\n"}},"inputs":{"input":[{"type":"main","required":true}]},"outputs":{"output":[{"type":"main"}]}},"id":"136e9a9f-a454-4b96-adf6-59160c7123b4","name":"Clear Old Vectors","type":"@n8n/n8n-nodes-langchain.code","typeVersion":1,"position":[600,740],"alwaysOutputData":false},{"parameters":{"mode":"insert","qdrantCollection":{"__rl":true,"value":"=SearchJob","mode":"id"},"options":{}},"id":"2caed3d3-65f3-4429-861d-4fdf7f9dd4f0","name":"Qdrant Vector Store Insert","type":"@n8n/n8n-nodes-langchain.vectorStoreQdrant","typeVersion":1,"position":[1280,740],"credentials":{"qdrantApi":{"id":"Aeqltub5twyeo8GY","name":"QdrantApi account"}}},{"parameters":{"respondWith":"allIncomingItems","options":{}},"id":"4f8825bd-808e-4349-9a20-476153712686","name":"Respond to Webhook","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[860,200]},{"parameters":{"httpMethod":"POST","path":"6e96bb59-5289-4b86-b383-f276ba62b4e1","responseMode":"responseNode","options":{}},"id":"8e22994d-adcd-4f16-b5b0-b353b20f39e8","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[140,380],"webhookId":"6e96bb59-5289-4b86-b383-f276ba62b4e1"},{"parameters":{"assignments":{"assignments":[{"id":"75ebfdef-c8e2-4c3e-b716-1479d0cc2a73","name":"chatInput","value":"={{ $json?.chatInput || $json.body.chatInput }}","type":"string"},{"id":"59b7a20f-0626-4861-93e2-015d430c266e","name":"sessionId","value":"={{ $json?.sessionId || $json.body.sessionId}}","type":"string"}]},"options":{}},"id":"5179d0fb-765e-4470-8bcd-fcd9bb9a3b9c","name":"Edit Fields","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[340,200]},{"parameters":{"command":"ls /data/paperport/\n"},"type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[980,1160],"id":"64f3d159-4bd5-435d-b97a-05b9d6bd4e7a","name":"Execute Command"},{"parameters":{"triggerOn":"folder","path":"/data/paperport/","events":["add","change","unlink"],"options":{"awaitWriteFinish":true,"followSymlinks":true,"depth":0,"usePolling":true}},"type":"n8n-nodes-base.localFileTrigger","typeVersion":1,"position":[140,1160],"id":"b30608df-5008-41e6-9887-d416a45c56b3","name":"Local File Trigger"},{"parameters":{"assignments":{"assignments":[]},"includeOtherFields":true,"options":{"dotNotation":false}},"id":"cdb60d2e-2114-44df-8820-a9b975eb04a9","name":"Set File ID1","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[460,1140]},{"parameters":{"fileSelector":"={{ $json.path }}","options":{}},"type":"n8n-nodes-base.readWriteFile","typeVersion":1,"position":[740,1120],"id":"920315ee-6c0b-4984-bbdf-ee5d6210a193","name":"Read/Write Files from Disk"},{"parameters":{"model":"llama3.1:latest","options":{}},"id":"859d2c6a-1869-424c-a900-3fdbac2ee8d0","name":"Ollama Chat Model1","type":"@n8n/n8n-nodes-langchain.lmChatOllama","typeVersion":1,"position":[440,420],"credentials":{"ollamaApi":{"id":"NS8KtD03um6xedJo","name":"Ollama account"}}},{"parameters":{"options":{"systemMessage":"You are a helpful assistant","returnIntermediateSteps":false}},"id":"006dfec8-5405-4b39-b085-3ac194f70d3b","name":"AI Agent1","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.6,"position":[520,200]},{"parameters":{"html":"<!DOCTYPE html>\n\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>My HTML document</title>\n</head>\n<body>\n          <!-- ======= Resume Section ======= -->\n        <section id=\"resume\" class=\"resume\">\n            <div class=\"container\" data-aos=\"fade-up\">\n\n                <div class=\"section-title\">\n                    <h2>Mon CV</h2>\n                    \n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-lg-6\" data-aos=\"fade-right\">\n                        <h3 class=\"resume-title\">Sommaire</h3>\n                        <div class=\"resume-item pb-0\">\n                            <h4>Olivier Gandais</h4>\n                            <p><em></em></p>\n                            <ul>\n                                <li>10 A Av Charles PONCET</li>\n                                <li>74300 CLUSES</li>\n                                <li>olivier@ogasphere.com</li>\n                            </ul>\n                        </div>\n\n                        <h3 class=\"resume-title\">Etudes</h3>\n                        <div class=\"resume-item\">\n                            <h4>D√©veloppeur Web &amp; Web mobile</h4>\n                            <h5>2021 - Aujourd'hui</h5>\n                            <p><em> Ecole O'Clock</em></p>\n                            <p>Formation pr√©parant au Titre Professionnel de D√©veloppeur web et web mobile</p>\n                            <p>Socle de D√©veloppement web (476 h)</p>\n                            <li>- Int√©gration HTML / CSS</li>\n                            <li>- Interfaces interactives avec JavaScript</li>\n                            <li>- Cr√©ation d‚Äôarchitectures MVC avec PHP et Lumen</li>\n                            <li>- Manipulation de base de donn√©es SQL.</li>\n                            <li>- Projet de fin d‚Äô√©tudes collaboratif</li>\n                            <li>- Sp√©cialisation Symfony</li>\n                            <li>- Pr√©paration √† l'acquisition de la Certification Opquast </li>\n                        </div>\n                        <div class=\"resume-item\">\n                            <h4>Baccalaur√©at de technicien, Microtechniques (F10)</h4>\n                            <h5>1987 - 1989</h5>\n                            <p><em>obtenu au Lyc√©e Lyc√©e Charles PONCET √† Cluses (Ecole nationale d'horlogerie).</em>\n                            </p>\n                            <p>Les microtechniques sont des techniques qui concourent √† la conception (dessin industriel, DAO, calculs de m√©canique), √† la r√©alisation unitaire (mise en oeuvre de machines-outils conventionnelles, assemblage) et √† la r√©alisation\n                                s√©rielle (conception d'outillage, de moules et autres) d'objets techniques de petite dimension et g√©n√©ralement de grande pr√©cision .</p>\n                        </div>\n                        <div class=\"resume-item\">\n                            <h4>CAP &amp; BEP Microtechniques </h4>\n                            <h5>1984 - 1986</h5>\n                            <p><em> obtenu au Lyc√©e professionnel de Cluses.</em></p>\n                            <p>Le technicien en microtechniques fabrique des maquettes, des prototypes ou des pi√®ces et des sous-ensembles sp√©ciaux, √† l'unit√© ou en tr√®s petite s√©rie. Il les teste pour en assurer la maintenance et contribuer √† l'am√©lioration\n                                de la qualit√©.</p>\n                        </div>\n\n                    </div>\n                    <div class=\"col-lg-6\" data-aos=\"fade-left\">\n                        <h3 class=\"resume-title\">Experiences professionnelles</h3>\n                        <div class=\"resume-item\">\n                            <h4>Responsable technique</h4>\n                            <h5>2004 - 2020</h5>\n                            <p><em>RABOUTET SA, CLUSES </em></p>\n                            <ul>\n                                <li>Conception et r√©alisation de prototypes ou petites s√©ries.</li>\n                                <li>Cr√©ation d'un logiciel de suivi de fabrication.</li>\n                                <li>Etude de faisabilit√© , cotations.</li>\n                                <li>Optimisation des processus de fabrication et de l‚Äôappareil de production.</li>\n                                <li>Mise en ≈ìuvre des d√©marches d'am√©lioration continue de l'organisation industrielle, des outillages et des processus de fabrication.</li>\n                            </ul>\n                        </div>\n                        <div class=\"resume-item\">\n                            <h4>D√©veloppeur Freelance</h4>\n                            <h5>1996 - 2003</h5>\n                            <p><em>Ad Hoc Informatique, CLUSES </em></p>\n                            <ul>\n                                <li>Cr√©ation d‚Äôentreprise en tant qu‚Äôind√©pendant.</li>\n                                <li>R√©alisation d‚Äôun logiciel de calcul de prix appliqu√© √† la m√©canique de pr√©cision.\n                                </li>\n                                <li>Conceptions de logiciels de facturation, de suivis de d√©lais, de suivi de fabrication\n                                </li>\n                                <li>D√©veloppement sp√©cifique selon demande clients</li>\n\n                            </ul>\n                        </div>\n                        <div class=\"resume-item\">\n                            <h4>M√©canicien de fabrication</h4>\n                            <h5>1992 - 1994</h5>\n                            <p><em>SERCOM, Montpellier </em></p>\n                            <ul>\n                                <li>R√©alisation d'un inventaire sous Open Access</li>\n                                <li>Conception et fabrication de machines compl√®tes destin√©es √† l‚Äôagronomie.</li>\n                                <li>Travaux de tournage, fraisage, soudure √† l‚Äôargon, d√©coupage, pliage, ect...</li>\n                                <li>Montage et c√¢blage des armoires √©lectriques.</li>\n                                <li>Dessin industriel.</li>\n\n                            </ul>\n                        </div>\n                        <div class=\"resume-item\">\n                            <h4>Agent technique</h4>\n                            <h5>1990 - 1992</h5>\n                            <p><em>IBM France, Montpellier </em></p>\n                            <ul>\n                                <li>Op√©rations complexes sur des √©quipements mettant en ≈ìuvre plusieurs techniques tel que l‚Äôoutillage, l‚Äôautomation, l‚Äôinformatique, ect...</li>\n                                <li>R√©daction de comptes rendus techniques.</li>\n                                <li>Formation du nouveau personnel.</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </section>\n        <!-- End Resume Section -->\n</body>\n</html>\n\n<style>\n.container {\n  background-color: #ffffff;\n  text-align: left;\n  padding: 16px;\n  border-radius: 8px;\n}\n\nh1 {\n  color: #ff6d5a;\n  font-size: 24px;\n  font-weight: bold;\n  padding: 8px;\n}\n\nh2 {\n  color: #909399;\n  font-size: 18px;\n  font-weight: bold;\n  padding: 8px;\n}\n</style>\n\n<script>\nconsole.log(\"Hello World!\");\n</script>"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[2240,-1100],"id":"f764d0d0-69c1-44c7-9882-ef46f01fa9cd","name":"Annonces Html1","alwaysOutputData":true}],"connections":{"Set Search Parameters":{"main":[[{"node":"run Actor Indeed","type":"main","index":0},{"node":"Jobs API","type":"main","index":0},{"node":"Active Jobs API","type":"main","index":0},{"node":"Google Search","type":"main","index":0},{"node":"JSearch API","type":"main","index":0}]]},"Google Search":{"main":[[]]},"Active Jobs API":{"main":[[]]},"Jobs API":{"main":[[]]},"JSearch API":{"main":[[]]},"Filter & Deduplicate":{"main":[[{"node":"Deep Analysis","type":"main","index":0}]]},"Deep Analysis":{"main":[[{"node":"Generate Motivation Letter","type":"main","index":0},{"node":"Modify CV","type":"main","index":0}]]},"Generate Motivation Letter":{"main":[[{"node":"Generate Embeddings","type":"main","index":0}]]},"Modify CV":{"main":[[{"node":"Generate Embeddings","type":"main","index":0}]]},"Generate Embeddings":{"main":[[{"node":"Index in Qdrant","type":"main","index":0}]]},"Index in Qdrant":{"main":[[{"node":"Format Final Output","type":"main","index":0}]]},"Format Final Output":{"main":[[{"node":"Debug Logger","type":"main","index":0},{"node":"Output Final","type":"main","index":0}]]},"Debug Logger":{"main":[[{"node":"Output Final","type":"main","index":0}]]},"Start1":{"main":[[{"node":"Set Search Parameters","type":"main","index":0}]]},"HTTP Request - Indeed API":{"main":[[]]},"Split Out":{"main":[[{"node":"HTTP Request - Indeed API","type":"main","index":0}]]},"Convert to File":{"main":[[]]},"Notion1":{"main":[[]]},"Markdown":{"main":[[{"node":"Annonces Html","type":"main","index":0}]]},"get Video URL":{"main":[[]]},"get Actor run":{"main":[[{"node":"get Dataset","type":"main","index":0}]]},"get Dataset":{"main":[[{"node":"update scraped data","type":"main","index":0}]]},"Annonces Html":{"main":[[]]},"Ollama Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Notion":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"run Actor Indeed":{"main":[[{"node":"Notion2","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"Basic LLM Chain":{"main":[[{"node":"Notion1","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Notion2":{"main":[[{"node":"Merge","type":"main","index":0}]]},"If":{"main":[[]]},"Code2":{"main":[[]]},"Merge":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent1","type":"ai_memory","index":0}]]},"Ollama Model":{"ai_languageModel":[[{"node":"Vector Store Tool","type":"ai_languageModel","index":0}]]},"Vector Store Tool":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]},"Embeddings Ollama":{"ai_embedding":[[{"node":"Qdrant Vector Store","type":"ai_embedding","index":0}]]},"File Created":{"main":[[{"node":"Set File ID","type":"main","index":0}]]},"File Updated":{"main":[[{"node":"Set File ID","type":"main","index":0}]]},"Set File ID":{"main":[[{"node":"Clear Old Vectors","type":"main","index":0}]]},"Download File":{"main":[[{"node":"Extract Document Text","type":"main","index":0}]]},"Extract Document Text":{"main":[[{"node":"Qdrant Vector Store Insert","type":"main","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Qdrant Vector Store Insert","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"Embeddings Ollama1":{"ai_embedding":[[{"node":"Qdrant Vector Store Insert","type":"ai_embedding","index":0}]]},"When chat message received":{"main":[[{"node":"Edit Fields","type":"main","index":0}]]},"Qdrant Vector Store":{"ai_vectorStore":[[{"node":"Vector Store Tool","type":"ai_vectorStore","index":0}]]},"Clear Old Vectors":{"main":[[{"node":"Download File","type":"main","index":0}]]},"Webhook":{"main":[[{"node":"Edit Fields","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"AI Agent1","type":"main","index":0}]]},"Local File Trigger":{"main":[[{"node":"Set File ID1","type":"main","index":0}]]},"Set File ID1":{"main":[[{"node":"Read/Write Files from Disk","type":"main","index":0}]]},"Ollama Chat Model1":{"ai_languageModel":[[{"node":"AI Agent1","type":"ai_languageModel","index":0}]]},"AI Agent1":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"58492655-618b-415f-a662-a139f97ac42d","triggerCount":0,"tags":[],"repo_owner":"Olivier340","repo_name":"n8n-worklow","repo_path":"","subPath":"2025/02/"}